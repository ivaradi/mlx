        Creating the Windows 10 VM for building the MSYS environment
        ============================================================

- Create the VM

  The RAM size should be 8GB.

  Add a "Channel spice" device for the display resizing to work

- Install Windows 10 Pro (1809)

- Disable and empty Recycle Bin

- Setup virtio devices:

  - Install the Spice guest tools: https://www.spice-space.org/download/windows/spice-guest-tools/spice-guest-tools-0.1.141.exe

  - cmd.exe as Administrator:

    bcdedit /set {current} safeboot minimal

  - Shut down

  - Add a new VirtIO Disk

  - Boot

  - cmd.exe as Administrator:

    bcdedit /deletevalue {current} safeboot

  - Shut down

  - Remove the VirtIO Disk and change the boot disk to VirtIO

  - Change the network card also to VirtIO

  - Boot

- Setup date and time format, etc.

- Configure network address to 192.168.122.21

- Install updates

- Map home drive to H: to \\192.168.122.1\<username>

- Shrink disk image (https://withdave.com/2018/07/compacting-windows-10-vms-and-shrinking-their-vdi-vmdk-disk-images-on-virtualbox-host/)

- Make a snapshot of the current state



- Enable Hyper-V

  Powershell: Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Hyper-V -All

- Reboot

- Install Docker for Windows

- Switch to Windows containers

- To configure Windows 10 Docker for remote access:

  - Docker/Settings/General: Expose daemon on tcp://localhost:2375 without TLS
  - Docker/Settings/Daemon: Advanced, add:
    "hosts": [
        "tcp://0.0.0.0:2376",
        "tcp://0.0.0.0:2375",
        "npipe://"
    ]

  - Enable firewall rule to connect to port 2375

    Windows Deferend Firewall/Advanced Settings: Inbound Rules/New ...

- Then connect from Linux like: docker -H tcp://192.168.122.21:2375 ...

- Make a snapshot of the current state
